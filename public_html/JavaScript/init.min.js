(function(){var c=document.location.href,d=/LogIn/;if(!d.test(c)){$("#startTour").on("click",function(){if(/Library/.test(c)){if($("#formRechercheApplication").length!=0){var g=new Tour({steps:[{orphan:true,content:"Welcome to the library. Here, you can search and find your favorite applications.",title:"The application page",smartPlacement:true,backdrop:true},{element:"#formRechercheApplication",content:"First of all, fill in the form with one or more keywords and select a category to refine your search.",title:"The form",smartPlacement:true,backdrop:true,backdropContainer:".row"},{element:"#informationRecherche",content:"Once the search is over, you can see the results. Just click on an application to discover its page.",title:"The results",placement:"bottom",backdrop:true,backdropContainer:".row"},{element:"#lastApplications",content:"Here, you can also find the last applications released on NooLib.",title:"The last applications",placement:"bottom",backdrop:true,backdropContainer:".row"}]})}else{var g=new Tour({steps:[{orphan:true,content:"You are on the page of the application.",title:"The application page",smartPlacement:true,backdrop:true},{element:"#firstTour",content:"You can discover the icon of the application that will appear in the dock of the applications if you add it as a favorite.",title:"The icon",smartPlacement:true,backdrop:true,backdropContainer:".row"},{element:"#secondTour",content:"The name of the application that is unique on the platform.",title:"The name",smartPlacement:true},{element:"#thirdTour",content:"Discover the authors of the application. Click on one of them to open its personal page and contact him if he is registred on NooLib.",title:"The authors",smartPlacement:true},{element:"#fourthTour",content:"Discover the settings of the application. You can observe the last version of the application. If you want to know more about the previous versions of the application, just click on its last version.",title:"The settings",smartPlacement:true},{element:"#fifthTour",content:"You can find the publications validating the application. If no publication has been published, you can offer to help the authors.",title:"The publications",smartPlacement:true},{element:"#sixthTour",content:"Discover the description of the application given by its authors. Important informations on how to use the application can be mentioned.",title:"Description",smartPlacement:true,backdrop:true,backdropContainer:".row"},{element:"#seventhTour",content:"Discover what the application can do and what kind of data is required for each task of the application.",title:"Informations",smartPlacement:true,backdrop:true,backdropContainer:".row"},{element:"#formAddApplicationInDock",content:"Add the application as your favorite. It will appear in the dock of the applications.",title:"Application as favorite",smartPlacement:true,backdrop:true,backdropContainer:".row"},{element:"#highthTour",content:"Click on this button to run the application in the NooSpace. The application will deploy automatically. If you have added the application as a favorite, you will able to drag and drop the application from the dock to deploy it in the NooSpace.",title:"Run it",smartPlacement:true,backdrop:true,backdropContainer:".row"}]})}}else{if(/ManagerOfApplications/.test(c)){var g=new Tour({steps:[{orphan:true,content:'Here is the page where you can manage your application. You can edit the metadata of your application, add some contributors or validated publications and create its tree. For more specific informations, please visit our article <a href="https://blog.noolib.com/Cours/Add-an-application-on-NooLib" target="_blank">Add an application on NooLib</a>.',title:"Manage your application",smartPlacement:true,backdrop:true},{element:"#logoTour",content:"To change the icon of your application, just click on it.",smartPlacement:true,title:"Logo",backdrop:true,backdropContainer:".row"},{element:"#nameTour",content:"To change the name of your application, just click on it. Notice that you cannot change it for a name that is already taken.",smartPlacement:true,title:"Name",backdrop:true,backdropContainer:".row"},{element:"#editTour",content:"Here, you can edit the metadata of your application, its description and its category.",smartPlacement:true,backdrop:true,backdropContainer:".row"},{element:"#authorsTour",content:"Here, you can manage the contributors of your application.",smartPlacement:true,backdrop:true,backdropContainer:".row"},{element:"#publicationTour",content:"Here, you can add, delete or edit the publications validating the algorithms used in your application.",smartPlacement:true,backdrop:true,backdropContainer:".row"},{element:"#testInNooSpace",content:"To test your application directly in the noospace, just click on this button. The version currently displayed will be deployed in the noospace. Notice that you do not need permission from the administrator to test your application but your application need administator validation before it can to be used by platform users.",smartPlacement:true,backdrop:true,backdropContainer:".row"},{element:"#deleteTour",content:"You can here delete the application. Be careful, all versions of the application will be removed.",smartPlacement:true,backdrop:true,backdropContainer:".row"},{element:"#versionTour",content:"You can see here the version of your application currently displayed. All changes made in the tree of the application are saved in this current version.",smartPlacement:true,title:"The version of your application"},{element:"#taskTour",content:"This is the way to create a new task which will be added to the tree of your application. Once you have submitted an application, its tree is empty and you need to add a first task to begin.",smartPlacement:true,title:"New task",backdrop:true,backdropContainer:".row"},{element:"#taskOptionTour",content:"Here, you can see all the versions of your application. You can create another version which will be a copy of the last version. You can also go back to a previous version of your application.",smartPlacement:true,title:"Versions",backdrop:true,backdropContainer:".row"},{element:"#treeTour",content:'Finally, the tree of your application. You can add one or more functions for a task and one or more parameters for each function created. For more information, please visit our article <a href="https://blog.noolib.com/Cours/Add-an-application-on-NooLib" target="_blank">Add an application on NooLib</a>.',smartPlacement:true,title:"The tree",backdrop:true,backdropContainer:".row"}]})
}else{if(/Settings/.test(c)){var g=new Tour({steps:[{orphan:true,content:"This is the page for setting NooLib Web Application. You can change the wallpaper of your environment or delete your account. Be careful, if your delete your account, you will not be able to re-activate later.",title:"Settings!",smartPlacement:true,backdrop:true}]})}else{if(/SubmitAnApplication/.test(c)){var g=new Tour({steps:[{orphan:true,content:'For more information on submitting an application, please visit our article <a href="https://blog.noolib.com/Cours/Add-an-application-on-NooLib" target="_blank">Add an application on NooLib</a>.',title:"Add an application",smartPlacement:true,backdrop:true}]})}else{if(/NooSpace/.test(c)){var g=new Tour({steps:[{orphan:true,content:"You are now in the noospace. To start the tour, you must deploy any application in the noospace from the dock or from the library.",title:"The NooSpace",smartPlacement:true,backdrop:true},{element:"#noospace .appInDock:first",content:"The application is now deployed in the NooSpace and you can see a left box, a right box and a play button.",smartPlacement:true,title:"An application",backdrop:false},{element:"#noospace .appInDock:first .allDataBox",content:"The left box of the application represents the input data.",smartPlacement:true,title:"The left box",backdrop:false},{element:"#noospace .appInDock:first .resultBox",content:"The right box of the application represents the results released by it.",smartPlacement:true,title:"The right box",backdrop:false},{element:"#noospace .appInDock:first .playButton",content:"To run an application, just click on its play button after dragging and dropping data into the left box of the application.",smartPlacement:true,title:"The play button",backdrop:false},{element:"#boutonShowGestionnaireDonnees",content:"To find your data, you must open your data manager.",smartPlacement:true,title:"The data manager",backdrop:false,onNext:function(h){openGestionnaireDonnees()}},{element:"#overlayGestionnaireDonnees",content:"Your data manager is now open.",smartPlacement:true,title:"The data manager",backdrop:false,delay:{show:1500,hide:0}},{element:"#progressBarGestionnaireDonneeUtilisateur",content:"The data manager displays your available space of 500 MB. Beyond that, you will not be able to add any more data.",smartPlacement:true,title:"The tools box",backdrop:false,},{element:"#boiteAOutils",content:"The data manager proposes a tool box.",smartPlacement:true,title:"The tool box",backdrop:false,},{element:"#boutonImporter",content:"You can add a new data item by clicking on this button.",smartPlacement:true,title:"The tool box",backdrop:false,},{element:"#boutonSaveDataOnServer",content:"You can save a data item by dragging and dropping it in this cloud. The data will be saved for 30 days.",smartPlacement:true,title:"The tool box",backdrop:false,},{element:"#poubelleDonneeUtilisateur",content:"You can also delete a data item by dragging and dropping it in this trash.",smartPlacement:true,title:"The tool box",backdrop:false,},{element:"#noospace .appInDock:first",content:"Right click on the icon of the application to open a submenu. Before running the application, you can select the task and adjust the parameters of each task of the application. You can also call the mule to run multiple scans at the same time.",smartPlacement:true,title:"The right box",backdrop:false}]})}else{if(/Profile/.test(c)){}else{var g=new Tour({steps:[{orphan:true,content:"Welcome to NooLib. Here, discover a short presentation of the features of the platform. On each page, you can find a specific tour like this one. We hope you enjoy your experience.",title:"Welcome aboard!",smartPlacement:true,backdrop:true},{element:"#profileTour",content:"Discover and edit your profile here.",title:"Your profile",smartPlacement:true,backdrop:false},{element:"#startTour",content:"For each page of NooLib, you can find a specific tour just like this one.",title:"Need some help?",smartPlacement:true,backdrop:false},{element:"#contactUs",content:"If you want to contact us for any questions, please use this box.",title:"Contact us?",smartPlacement:true,backdrop:false},{element:"#teamTour",content:"Discover here the NooLib team and our partners.",title:"The NooLib Informations",smartPlacement:true,backdrop:false},{element:"#logTour",content:"Or just log out from the platform :-(",title:"Log out",smartPlacement:true,backdrop:false},{element:"#firstTour",content:"To find the application you need, use the library tool.",smartPlacement:true,backdrop:true,backdropContainer:".col-sm-8"},{element:"#secondTour",content:"The NooSpace is your workspace to run applications online.",smartPlacement:true,backdrop:true,backdropContainer:".col-sm-8"},{element:"#thirdTour",content:"If you want to deposit your own algorithms and transform them into an application, use this tool.",smartPlacement:true,backdrop:true,backdropContainer:".col-sm-8"},{element:"#fourTour",content:"You can then manage your own applications.",smartPlacement:true,backdrop:true,backdropContainer:".col-sm-8"},{element:"#fiveTour",content:"For setting your account and change, for example, your wallpaper, use the settings tool.",smartPlacement:true,backdrop:true,backdropContainer:".col-sm-8"},{element:"#overlayDockApplication",content:"And finally, the applications in dock where you can find your favorite applications and discover other options by a right click on them. Move your mouse downward to make the dock (dis)appear. To add an application in the dock, please visit the library.",smartPlacement:true,backdrop:false,onShow:function(h){animPlus(0,-100,$("#overlayDockApplication"))
}}]})}}}}}}g.init();g.start(true);g.goTo(0)})}if($("#menuFilAriane").length!=0){$("#menuFilAriane").jBreadCrumb()}displayInformationsClient();validBrowser();if(!d.test(c)){$("nav img").popover({placement:"bottom",trigger:"hover"});$(".image-upload img").popover({placement:"bottom",trigger:"hover"});$(".infoBulle").tooltip({placement:"bottom",trigger:"hover"});$(".infoBulleRight").tooltip({placement:"right",trigger:"hover"});$(".infoBulleGeneralMenuTop").tooltip({delay:{show:800,hide:100},placement:"top",trigger:"hover"}).on("show.bs.tooltip",function(){$(this).data("bs.tooltip").tip().css("width","200px")});$(".infoBulleGeneralMenuBottom").tooltip({delay:{show:800,hide:100},placement:"bottom",trigger:"hover"});$(".infoBulleDataManager").tooltip({delay:{show:800,hide:100},placement:"right",trigger:"hover"})}else{$('[data-toggle="tooltip"]').tooltip({delay:{show:500,hide:100},placement:"top",trigger:"hover"})}if(!d.test(c)){if($(".carousel").length!=0){$(".carousel").carousel("pause")}$('[type="file"][class!="withoutBootstrap"]').filestyle({iconName:"glyphicon glyphicon-download-alt"});$('select[class!="withoutBootstrap"]').selectpicker()}$("#contactUs").click(function(g){g.preventDefault();$.ajax({url:"/Helper/",type:"POST",async:true,cache:false,contentType:false,processData:false,success:function(h){if(isJson(h)){var h=JSON.parse(h);if(!h.erreurs){var h={};h.erreurs="<p>A system error has occurred.</p>"}displayInformationsClient(h)}else{$("#helperApplication").find(".modal-body").html(h);$("#helperApplication").modal("show");$("#formContact").on("submit",function(k){k.preventDefault();var j=new FormData(k.target),i=$(this).find("button");i.button("loading");$.ajax({url:"/Helper/Contact",type:"POST",data:j,async:true,cache:false,contentType:false,processData:false,success:function(l){i.button("reset");l=JSON.parse(l);displayInformationsClient(l);$("#helperApplication").modal("hide")},error:function(){i.button("reset");var l={erreurs:"<p>A system error has occurred.</p>"};displayInformationsClient(l)}})})}},error:function(){var h={};h.erreurs="<p>A system error has occurred.</p>";displayInformationsClient(h)}})});if($("#overlayDockApplication").length!=0){var f=window.innerHeight,e=$("#overlayDockApplication"),b=-100,a=0;e.css("bottom",b+"px");e.css("display","block");$("#applicationsInDock .appInDock").draggable({containment:"#noospace",revert:true});if($("#overlayDockApplication .appInDock").length!=0){menuApplicationsInDock()}if($("#boutonAjouterAuDock").length!=0){$("#boutonAjouterAuDock").on("mouseover",function(h){var g=h.relatedTarget;while(g!=this&&g.nodeName!="BODY"&&g!=document){g=g.parentNode}if(g!=this){animPlus(a,b,e)}});$("#formAddApplicationInDock").on("submit",function(h){h.preventDefault();var g=$(this);$.ajax({url:g.attr("action"),type:g.attr("method"),data:g.serialize(),success:function(i){$("#applicationsInDock").html(i);menuApplicationsInDock();$("#applicationsInDock .appInDock").draggable({containment:"#noospace",revert:true});var j=$("#boutonAjouterAuDock");if(j.html()==='<i class="glyphicon glyphicon-ok"></i>'){j.html('<i class="glyphicon glyphicon-remove"></i>');j.addClass("btn-danger").removeClass("btn-success")}else{j.html('<i class="glyphicon glyphicon-ok"></i>');j.addClass("btn-success").removeClass("btn-danger")}initSizeApplications()},error:function(){var i={};i.erreurs="<p>A system error has occured.</p>";displayInformationsClient(i)}})})}$(document).on("mousemove",function(k){var i=document.location.href,j=/ManagerOfApplications/,g=k.target;if(!j.test(i)){var h=false;$(".context-menu-list").each(function(){if($(this).css("display")!="none"){h=true}});while(g.id!="formAddApplicationInDock"&&g.nodeName!="BODY"&&g!=document){g=g.parentNode}if(g.id!="formAddApplicationInDock"){if((k.clientY>=f-10)&&(parseInt(e.css("bottom"))==b)){animPlus(a,b,e)}else{if(!h&&(k.clientY<f-100)&&(parseInt(e.css("bottom"))==a)){animMoins(b,a,e)}}}}});initSizeApplications()}window.onload=function(){$(".overlay").fadeOut()}})();function isJson(b){try{JSON.parse(b);return true}catch(a){return false}}function setCookie(c,d){var b=new Date(),a=new Date();a.setTime(b.getTime()+(1*60*60*1000));document.cookie=c+"="+encodeURIComponent(d)+";expires="+a.toGMTString()+";path=/"}function getCookie(b){var a=new RegExp("(?:; )?"+b+"=([^;]*);?");if(a.test(document.cookie)){return decodeURIComponent(RegExp["$1"])}else{return null}}function displayInformationsClient(a){if(typeof(a)!="undefined"){if(a.erreurs&&a.erreurs!=""){$("#informationsClient").show().append('<div class="alert alert-danger alert-dismissable" style="display:none"><button type="button" class="close" data-dismiss="alert">x</button><h3>Warning</h3>'+a.erreurs+"</div>");$("#informationsClient").find(".alert:last").fadeIn(function(){$(this).delay(6000).fadeOut(800,function(){$(this).remove()})})}if(a.reussites&&a.reussites!=""){$("#informationsClient").show().append('<div class="alert alert-success alert-dismissable style="display:none"><button type="button" class="close" data-dismiss="alert">x</button><h3>Information</h3>'+a.reussites+"</div>");
$("#informationsClient").find(".alert:last").fadeIn(function(){$(this).delay(6000).fadeOut(function(){$(this).remove()})})}}else{if($("#informationExists").length!=0){$("#informationsClient").fadeIn(function(){$("#informationsClient").delay(6000).fadeOut(800,function(){$("#informationsClient").html("")})})}}}function validBrowser(){var isValid=getCookie("browser");if(isValid===null){var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return(isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows())}};if(!isMobile.any()){var isOpera=(!!window.opr&&!!opr.addons)||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0;var isFirefox=typeof InstallTrigger!=="undefined";var isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0;var isIE=
/*@cc_on!@*/
false||!!document.documentMode;var isEdge=!isIE&&!!window;var isChrome=!!window.chrome&&!!window.chrome.webstore;if(isOpera){var regexp=/OPR\/([0-9]{1,2})/;regexp.test(navigator.userAgent);var name="opera",version=RegExp.$1}else{if(isFirefox){var regexp=/Firefox\/([0-9]{1,2})/;regexp.test(navigator.userAgent);var name="firefox",version=RegExp.$1}else{if(isSafari){var regexp=/Version\/([0-9]{1,2}).[0-9]{0,1}.[0-9]{0,1} Safari/;regexp.test(navigator.userAgent);var name="safari",version=RegExp.$1}else{if(isChrome){var regexp=/Chrome\/([0-9]{1,2})/;regexp.test(navigator.userAgent);var name="chrome",version=RegExp.$1}else{if(isIE){var name="ie",version=""}else{if(isEdge){var regexp=/Edge\/([0-9]{1,2})/;regexp.test(navigator.userAgent);var name="edge",version=RegExp.$1}else{var name="unknown",version=""}}}}}}xhr=new XMLHttpRequest();xhr.open("POST","/LogIn/BrowserIsValid/");xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");xhr.send("name="+name+"&version="+parseInt(version));xhr.onreadystatechange=function(){if(xhr.readyState==4&&xhr.status==200){var response=JSON.parse(xhr.responseText);if(response.isValid===1){setCookie("browser",1)}else{var texte="";if(name!="unknown"&&name!="ie"){texte+="This version of your browser "+name+" is obsolete and NooLib can present unwanted malfunctions.<br/>";texte+="We recommend updating your current browser."}else{if(name=="ie"){texte+="All versions of Internet Explorer are not supported by NooLib and the plateform can present unwanted malfunctions.<br/>";texte+="We recommend changing to another updated browser."}else{texte+="Your browser is unknown and NooLib can present unwanted malfunctions.<br/>";texte+="We recommend changing to another updated browser."}}$("#alertBrowser").removeClass("hidden").append(texte)}}}}}}function animMoins(c,a,b){a=parseInt(a)-20+"px";b.css("bottom",a);if(parseInt(a)>c){setTimeout(function(){animMoins(c,a,b)},20)}}function animPlus(c,a,b){a=parseInt(a)+20+"px";b.css("bottom",a);if(parseInt(a)<c){setTimeout(function(){animPlus(c,a,b)},20)}}function initSizeApplications(){var a=$(".inHeaderDock").width(),d=$(".titreDock").width(),e=$("#applicationsInDock").width(),b=$(".appInDock").length;if((d+e)>a){var c=Math.round((a-d)/(b+1)-5);$(".appInDock").find(".imageApplication").css({width:c,height:c})}}function menuApplicationsInDock(){$.contextMenu({selector:"#applicationsInDock .appInDock",callback:function(c,b){if(c==="remove"){var a=$(this);$.post("/HandleApplication/AddRemoveToDock",{idApplication:a.attr("id")},function(d){$("#boutonAjouterAuDock").html('<i class="glyphicon glyphicon-ok"></i>');$("#boutonAjouterAuDock").addClass("btn-success").removeClass("btn-danger");a.remove()})}else{if(c==="about"){document.location.href="/Library/app="+$(this).attr("id")}else{if(c==="tree"){document.location.href="/ManagerOfApplications/app="+$(this).attr("id")}else{if(c==="run"){document.location.href="/NooSpace/a="+$(this).attr("id")+"v="}}}}},items:{run:{name:"Run it"},about:{name:"About it"},tree:{name:"Open tree",disabled:function(){return false}},sep1:"---------",remove:{name:"Remove from the dock",icon:"remove"}}})};